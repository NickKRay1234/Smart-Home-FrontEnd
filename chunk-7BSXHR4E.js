import{a as A,b as k,c as N,d as W,f as w}from"./chunk-AABZ5YC5.js";import{a as v,b as S}from"./chunk-GXYEGJSY.js";import{a as K,j as I,q as Q}from"./chunk-MTZZGECX.js";import{$a as h,Da as c,N as R,Qa as E,Sa as m,T as l,V as f,Va as b,Wa as $,Xa as L,Ya as H,Za as r,_a as n,ab as V,bb as j,cb as y,da as d,db as s,ea as C,eb as _,ib as p,jb as Z,ka as q,kb as O,ob as G,pa as z,pb as x,qa as U,sb as P,tb as M,za as J}from"./chunk-DXEYFIYH.js";import"./chunk-4CLCTAJ7.js";function tt(i,e){if(i&1){let t=y();r(0,"div",1),h(1,"img",2),n(),r(2,"div",3)(3,"div",4)(4,"h6"),p(5," \u0420\u043E\u0437\u0443\u043C\u043D\u0438\u0439 \u0434\u0432\u0435\u0440\u043D\u0438\u0439 \u0437\u0430\u043C\u043E\u043A Aqara Smart Door Lock N 100 ZNMS16LM(EU version) "),n(),r(6,"app-svg-icon",5),s("click",function(){let a;d(t);let u=_();return C(u.deleteItem((a=u.cart())==null?null:a.productId))}),n()(),r(7,"div",6)(8,"div",7)(9,"app-svg-icon",5),s("click",function(){let a;d(t);let u=_();return C(u.decrease((a=u.cart())==null?null:a.productId))}),n(),r(10,"h4"),p(11),n(),r(12,"app-svg-icon",5),s("click",function(){let a;d(t);let u=_();return C(u.increase((a=u.cart())==null?null:a.productId))}),n()(),r(13,"div",8)(14,"h4"),p(15),P(16,"price"),n()()()()}if(i&2){let t,o,a,u,g=_();c(),m("src",(t=g.cart())==null?null:t.pictureUrl,J)("alt",(o=g.cart())==null?null:o.productName),c(5),m("path",g.icons.delete),c(3),m("path",g.icons.minus),c(2),Z((a=g.cart())==null?null:a.quantity),c(),m("path",g.icons.plus),c(3),O("",M(16,7,(u=g.cart())==null?null:u.price)," \u20B4")}}var T=class i{cart=U();updateCart=z();cartStorage=l(w);icons=S;deleteItem(e){e&&(this.cartStorage.deleteItemCartStorage(e),this.updateCart.emit(this.cartStorage.getCartStorage()))}decrease(e){e&&(this.cartStorage.decreaseCartStorage(e),this.updateCart.emit(this.cartStorage.getCartStorage()))}increase(e){e&&(this.cartStorage.increaseCartStorage(e),this.updateCart.emit(this.cartStorage.getCartStorage()))}static \u0275fac=function(t){return new(t||i)};static \u0275cmp=f({type:i,selectors:[["app-cart-item"]],inputs:{cart:[1,"cart"]},outputs:{updateCart:"updateCart"},standalone:!0,features:[x],decls:2,vars:1,consts:[[1,"cart__item"],[1,"cart__image"],[3,"src","alt"],[1,"cart__info"],[1,"cart__title"],[3,"click","path"],[1,"cart__count"],[1,"cart__quantity"],[1,"cart__price"]],template:function(t,o){t&1&&(r(0,"section",0),E(1,tt,17,9),n()),t&2&&(c(),b(o.cart()?1:-1))},dependencies:[v,k],styles:["app-svg-icon[_ngcontent-%COMP%]{width:29px;height:24px}h4[_ngcontent-%COMP%]{font-family:Jura;font-size:22px;font-weight:600;line-height:26.03px;color:#393939}.cart__item[_ngcontent-%COMP%]{display:flex;flex-wrap:nowrap;contain:content}.cart__title[_ngcontent-%COMP%]{display:flex;justify-content:space-between;width:100%;padding-bottom:20px}.cart__title[_ngcontent-%COMP%]   h6[_ngcontent-%COMP%]{font-family:Jura;font-size:16px;font-weight:600;line-height:18.93px;text-align:left}.cart__info[_ngcontent-%COMP%]{display:flex;flex-direction:column}.cart__image[_ngcontent-%COMP%]{padding-right:20px}.cart__image[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{width:120px;height:120px;border-radius:10px}.cart__count[_ngcontent-%COMP%]{display:flex;justify-content:space-between;align-items:center}.cart__quantity[_ngcontent-%COMP%]{display:flex;align-items:center;gap:10px}.cart__quantity[_ngcontent-%COMP%]   h4[_ngcontent-%COMP%]{color:#393939}.cart__price[_ngcontent-%COMP%]   h4[_ngcontent-%COMP%]{color:#393939;text-align:right}"]})};var D=class i{router=l(I);icons=S;close(){this.router.navigate([{outlets:{cart:null}}])}static \u0275fac=function(t){return new(t||i)};static \u0275cmp=f({type:i,selectors:[["app-cart-empty"]],standalone:!0,features:[x],decls:13,vars:1,consts:[[1,"cart__empty"],[1,"cart__icon",3,"click"],[3,"path"],[1,"cart__action"],[1,"btn","btn__active",3,"click"],[1,"cart__link"],["href","#"]],template:function(t,o){t&1&&(r(0,"section",0)(1,"div",1),s("click",function(){return o.close()}),h(2,"app-svg-icon",2),n(),r(3,"h3"),p(4,"\u0422\u0432\u0456\u0439 \u043A\u043E\u0448\u0438\u043A \u043F\u043E\u0440\u043E\u0436\u043D\u0456\u0439"),n(),r(5,"h6"),p(6,"\u0410\u043B\u0435 \u0446\u0435 \u043D\u0456\u043A\u043E\u043B\u0438 \u043D\u0435 \u043F\u0456\u0437\u043D\u043E \u0432\u0438\u043F\u0440\u0430\u0432\u0438\u0442\u0438 :)"),n(),r(7,"div",3)(8,"button",4),s("click",function(){return o.close()}),p(9,"\u0414\u043E\u0434\u0430\u0442\u0438 \u0442\u043E\u0432\u0430\u0440\u0438"),n()(),r(10,"div",5)(11,"a",6),p(12,"\u041E\u0437\u043D\u0430\u0439\u043E\u043C\u0442\u0435\u0441\u044C \u0437 \u043D\u0430\u0448\u0438\u043C\u0438 \u0430\u043A\u0446\u0456\u044F\u043C\u0438"),n()()()),t&2&&(c(2),m("path",o.icons.crying))},dependencies:[v],styles:[".cart__empty[_ngcontent-%COMP%]{display:flex;flex-direction:column;align-items:center;justify-content:center;height:100%}.cart__icon[_ngcontent-%COMP%]{width:100px;height:100px;cursor:pointer}.cart__action[_ngcontent-%COMP%]{height:43px}.cart__link[_ngcontent-%COMP%]{padding-top:144px}.cart__link[_ngcontent-%COMP%]   a[_ngcontent-%COMP%]{font-family:Tenor Sans;font-size:16px;font-weight:400;line-height:18.72px;text-align:left;text-decoration-line:underline;text-decoration-style:solid;text-underline-position:from-font;text-decoration-skip-ink:none;color:#a894d3}h3[_ngcontent-%COMP%]{padding-top:20px;padding-bottom:10px}h6[_ngcontent-%COMP%]{padding-bottom:20px}h3[_ngcontent-%COMP%], h6[_ngcontent-%COMP%]{color:#91a0a5}"]})};var F=class i{http=l(K);checkOut(e){this.http.post(`${Q.apiUrl}Payments/cartId?cartId=${e.id}`,e).subscribe(t=>console.log(t))}static \u0275fac=function(t){return new(t||i)};static \u0275prov=R({token:i,factory:i.\u0275fac,providedIn:"root"})};function et(i,e){if(i&1){let t=y();r(0,"app-cart-item",10),s("updateCart",function(a){d(t);let u=_(2);return C(u.updateItem(a))}),n()}if(i&2){let t=e.$implicit;m("cart",t)}}function nt(i,e){if(i&1){let t=y();r(0,"div",3),V(1),L(2,et,1,1,"app-cart-item",4,$),j(),n(),r(4,"div",5)(5,"div",6)(6,"h3"),p(7),P(8,"price"),n()(),r(9,"div",7)(10,"button",8),s("click",function(){d(t);let a=_();return C(a.close())}),p(11," \u041F\u0440\u043E\u0434\u043E\u0432\u0436\u0438\u0442\u0438 \u043F\u043E\u043A\u0443\u043F\u043A\u0438 "),n(),r(12,"button",9),s("click",function(){d(t);let a=_();return C(a.makeOrder())}),p(13," \u041E\u0444\u043E\u0440\u043C\u0438\u0442\u0438 \u0437\u0430\u043C\u043E\u0432\u043B\u0435\u043D\u043D\u044F "),n()()()}if(i&2){let t=_();c(2),H(t.carts),c(5),O("\u041F\u0456\u0434\u0441\u0443\u043C\u043E\u043A: ",M(8,1,t.total)," \u20B4")}}function it(i,e){i&1&&(V(0),h(1,"app-cart-empty"),j())}var Y=class i{cartService=l(N);cartStorage=l(w);checkOutService=l(F);destroyRef=l(q);router=l(I);cart;icons=S;carts=[];total=0;ngOnInit(){this.cartService.getCart().pipe(A(this.destroyRef)).subscribe(e=>{this.cart=e,this.cartStorage.setCartStorage(e.items),this.carts=this.cartStorage.getCartStorage(),this.cartStorage.countTotal(this.carts),this.total=this.cartStorage.getTotal()})}updateItem(e){this.cartService.addToCart(W(e)).pipe(A(this.destroyRef)).subscribe(),this.cartStorage.countTotal(this.cartStorage.getCartStorage()),this.total=this.cartStorage.getTotal(),this.carts=this.cartStorage.getCartStorage()}close(){this.router.navigate([{outlets:{cart:null}}])}makeOrder(){console.log(this.cart),this.checkOutService.checkOut(this.cart)}static \u0275fac=function(t){return new(t||i)};static \u0275cmp=f({type:i,selectors:[["app-cart"]],standalone:!0,features:[G([N]),x],decls:7,vars:2,consts:[[1,"cart__container"],[1,"cart__header"],[3,"click","path"],[1,"cart__content"],[3,"cart"],[1,"cart__actions"],[1,"cart__total"],[1,"cart__btns"],[1,"btn","btn__secondary",3,"click"],[1,"btn","btn__active",3,"click"],[3,"updateCart","cart"]],template:function(t,o){t&1&&(r(0,"section",0)(1,"div",1)(2,"h1"),p(3,"\u041A\u043E\u0448\u0438\u043A"),n(),r(4,"app-svg-icon",2),s("click",function(){return o.close()}),n()(),E(5,nt,14,3)(6,it,2,0,"ng-container"),n()),t&2&&(c(4),m("path",o.icons.close),c(),b(o.carts.length?5:6))},dependencies:[T,D,v,k],styles:[".cart__container[_ngcontent-%COMP%]{position:absolute;top:100px;right:20px;max-width:726px;min-width:320px;height:700px;border-radius:40px;background:#fff;padding:20px;z-index:400}.cart__content[_ngcontent-%COMP%]{height:496px;contain:content;overflow-y:auto}.cart__header[_ngcontent-%COMP%]{display:flex;justify-content:space-between;align-items:center;padding-bottom:10px}.cart__header[_ngcontent-%COMP%]   h1[_ngcontent-%COMP%]{color:#91a0a5}.cart__actions[_ngcontent-%COMP%]{padding-top:10px}.cart__total[_ngcontent-%COMP%]{padding-bottom:20px}.cart__total[_ngcontent-%COMP%]   h3[_ngcontent-%COMP%]{text-align:right;font-family:Jura;font-size:26px;font-weight:600;line-height:30.76px}.cart__btns[_ngcontent-%COMP%]{display:flex;justify-content:space-between}app-svg-icon[_ngcontent-%COMP%]{width:24px;height:24px}"]})};export{Y as CartComponent};
